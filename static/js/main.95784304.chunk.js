(this.webpackJsonpkaffi=this.webpackJsonpkaffi||[]).push([[0],{107:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(18),i=a.n(c);a(70),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var o=a(10),l=a(49),s=a.n(l),u=(a(71),a(72),a(52)),d=r.a.createContext(null),m=a(50),f=a(61),h=a(58),g=a(34),p=a.n(g),w=(a(73),a(75),a(77),a(80),{apiKey:"AIzaSyCwryeBDlwOZziAbl7p6w6ORnNmh9jq1Uo",authDomain:"newagent-7fcdc.firebaseapp.com",databaseURL:"https://newagent-7fcdc.firebaseio.com",projectId:"newagent-7fcdc",storageBucket:"newagent-7fcdc.appspot.com",messagingSenderId:"647069918253",appId:"1:647069918253:web:02d2f1ad115c71cc3844a4"}),v=function(e){Object(f.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(m.a)(this,a),n=t.call(this,e),console.log("init Firebase"),p.a.initializeApp(w),n.state={firebase:p.a},n}return a}(n.Component),y=function(e){var t=function(){var e=new Date;return String(e.getDate()).padStart(2,"0")+"/"+String(e.getMonth()+1).padStart(2,"0")+"/"+e.getFullYear()},a=function(){var e=new Date;return String(e.getHours()).padStart(2,"0")+":"+String(e.getMinutes()).padStart(2,"0")},n=function(n){console.log("trying to add the coffee"),n.database().ref("Coffee/Users/userID/Entries").push().set(function(){var e={type:"black",time:a(),date:t()};return console.log("coffee = "+JSON.stringify(e,null," ")),e}()).then((function(t){e.displayAlert({show:!0,message:"+1",variant:"success"})})).catch((function(t){console.log("Could not add coffee to firebase:\n"+t),e.displayAlert({show:!0,message:"Could not add coffee",variant:"danger"})}))};return r.a.createElement(d.Consumer,null,(function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(u.a,{variant:"primary",onClick:function(){return n(e.state.firebase)}},"AddCup")," ")}))},b=(a(83),a(15)),E=a(14),j=a.n(E),O="daily",k="weekly",N="monthly",S="yearly",x=a(54),C=a(55),D=function(e){var t=Object(n.useState)("daily"),a=Object(o.a)(t,2),c=a[0],i=a[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(x.a,{toggle:!0},[{name:"Day",value:"daily"},{name:"Week",value:"weekly"},{name:"Month",value:"monthly"},{name:"Year",value:"yearly"}].map((function(t,a){return r.a.createElement(C.a,{className:"bg-secondary",key:a,type:"radio",variant:"secondary",name:"radio",value:t.value,checked:c===t.value,onChange:function(t){return a=t.currentTarget.value,i(a),void e.simpleCalculating(a);var a}},t.name)}))))},Y=a(110),W=a(111),A=a(112),M=function(e){var t=Object(n.useState)([]),c=Object(o.a)(t,2),i=c[0],l=c[1],s=Object(n.useState)({width:window.innerWidth,height:window.innerHeight,paddingW:window.innerWidth/10}),u=Object(o.a)(s,2),d=u[0],m=u[1];Object(n.useEffect)((function(){window.addEventListener("resize",(function(){m({width:window.innerWidth,height:window.innerHeight,paddingW:window.innerWidth/10})}))}),[]),Object(n.useEffect)((function(){j.a.extend(a(104)),j.a.extend(a(105)),j.a.extend(a(106)),f()}),[e.data]);var f=function(t){console.log("calculating..."),l(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:O;if(0===e.length)return[];var a=j()(e[0].date+" "+e[0].time,"DD/MM/YYYY HH:mm").hour(0).minute(0),n=a.valueOf(),r=0,c=0,i=[],o=null;return e.forEach((function(e){o=j()(e.date+" "+e.time,"DD/MM/YYYY HH:mm");var l=!1;switch(t){case O:o.dayOfYear()!==a.dayOfYear()&&(l=!0);break;case k:o.week()!==a.week()&&(l=!0);break;case N:o.month()!==a.month()&&(l=!0);break;case S:o.year()!==a.year()&&(l=!0);break;default:console.warn("Time period did not match with any available options")}l?(l=!1,i.push({x:n+c,y:r}),r=1,c+=o.diff(a,"millisecond")):r++,a=o})),c+=o.diff(a,"millisecond"),i.push({x:n+c,y:r}),console.debug(i),i}(e.data,t))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Y.a,{fluid:!0},r.a.createElement(W.a,{className:"justify-content-center"},0!==i.length?r.a.createElement(b.e,{xType:"time",width:d.width-d.paddingW,height:d.height/4},r.a.createElement(b.b,{className:"grid"}),r.a.createElement(b.c,{className:"grid"}),r.a.createElement(b.d,{title:"date",className:"axis"}),r.a.createElement(b.f,{title:"cups",className:"axis"}),r.a.createElement(b.a,{data:i,curve:"curveMonotoneX"})):r.a.createElement(A.a,{animation:"border",variant:"primary"})),r.a.createElement(W.a,{className:"justify-content-center"},r.a.createElement(D,{simpleCalculating:f}))))},H=r.a.createContext({data:{type:"default",time:"06:09",date:"04/20/1969"}}),I=function(e){var t=[];return console.log("fetching all cups"),e.state.firebase.database().ref("Coffee/Users/userID/Entries").once("value").then((function(e){return e.forEach((function(e){t.push({type:e.val().type,date:e.val().date,time:e.val().time})})),t}))},F=a(115),z=a(113),B=a(114),T=function(){Object(n.useContext)(H).then((function(e){return c(e)}));var e=Object(n.useState)([]),t=Object(o.a)(e,2),a=t[0],c=t[1],i=Object(n.useState)({show:!1,message:"N/A",variant:"success"}),l=Object(o.a)(i,2),u=l[0],d=l[1];Object(n.useEffect)((function(){}),[u]);return r.a.createElement(Y.a,{fluid:!0},r.a.createElement(F.a,{className:"position-absolute fixed",show:u.show,variant:u.variant},u.message),r.a.createElement(W.a,{className:"justify-content-center bg-primary"},r.a.createElement(z.a,{className:"my-auto"},r.a.createElement(B.a,{src:s.a,className:"coffee-logo w-50",alt:"logo"})),r.a.createElement(z.a,null,r.a.createElement("h1",{className:"text-white"},"Kaffi"))),r.a.createElement(W.a,{className:"justify-content-md-center bg-primary"}),r.a.createElement(W.a,{className:"justify-content-center"},r.a.createElement(y,{displayAlert:function(e){d(e),window.setTimeout((function(){d({show:!1})}),1e3)}})),r.a.createElement(W.a,{className:"justify-content-center"},r.a.createElement(M,{data:a})))},U=new v;i.a.render(r.a.createElement(d.Provider,{value:U},r.a.createElement(H.Provider,{value:I(U)},r.a.createElement(T,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},49:function(e,t,a){e.exports=a.p+"static/media/logo.5a2ce697.svg"},65:function(e,t,a){e.exports=a(107)},70:function(e,t,a){},72:function(e,t,a){}},[[65,1,2]]]);
//# sourceMappingURL=main.95784304.chunk.js.map
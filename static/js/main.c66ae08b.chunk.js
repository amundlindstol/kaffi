(this.webpackJsonpkaffi=this.webpackJsonpkaffi||[]).push([[0],{39:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},48:function(e,t,a){e.exports=a(89)},53:function(e,t,a){},54:function(e,t,a){},89:function(e,t,a){"use strict";a.r(t);var n=a(1),o=a.n(n),r=a(38),c=a.n(r);a(53),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var i=a(43),l=a(39),s=a.n(l),u=(a(54),o.a.createContext(null)),f=a(40),d=a(45),m=a(44),p=a(25),h=a.n(p),g=(a(55),a(57),a(59),a(62),{apiKey:"AIzaSyCwryeBDlwOZziAbl7p6w6ORnNmh9jq1Uo",authDomain:"newagent-7fcdc.firebaseapp.com",databaseURL:"https://newagent-7fcdc.firebaseio.com",projectId:"newagent-7fcdc",storageBucket:"newagent-7fcdc.appspot.com",messagingSenderId:"647069918253",appId:"1:647069918253:web:02d2f1ad115c71cc3844a4"}),v=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(f.a)(this,a),n=t.call(this,e),console.log("init Firebase"),h.a.initializeApp(g),n.state={firebase:h.a},n}return a}(n.Component),b=function(){var e=function(){var e=new Date;return String(e.getDate()).padStart(2,"0")+"/"+String(e.getMonth()+1).padStart(2,"0")+"/"+e.getFullYear()},t=function(){var e=new Date;return String(e.getHours()).padStart(2,"0")+":"+String(e.getMinutes()).padStart(2,"0")},a=function(a){console.log("trying to add the coffee"),a.database().ref("Coffee/Users/userID/Entries").push().set(function(){var a={type:"black",time:t(),date:e()};return console.log("coffee = "+JSON.stringify(a,null," ")),a}()).then((function(e){console.log("success")})).catch((function(e){console.log("Could not add coffee to firebase:\n"+e)}))};return o.a.createElement(u.Consumer,null,(function(e){return o.a.createElement("button",{className:"addCoffee",onClick:function(){return a(e.state.firebase)}},"AddCup")}))},w=(a(65),a(10)),y=a(9),E=a.n(y),k="daily",O="weekly",x="monthly",C="yearly",S=function(e){Object(n.useEffect)((function(){E.a.extend(a(86)),E.a.extend(a(87)),E.a.extend(a(88))}));return o.a.createElement(w.e,{xType:"time",width:600,height:300},o.a.createElement(w.b,null),o.a.createElement(w.c,null),o.a.createElement(w.d,{title:"date"}),o.a.createElement(w.f,{title:"cups"}),o.a.createElement(w.a,{data:(console.log("calculating..."),0===e.data.length?[]:(console.log(e.data),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:k,a=E()(e[0].date+" "+e[0].time,"DD/MM/YYYY HH:mm").hour(0).minute(0),n=a.valueOf(),o=0,r=0,c=[],i=null;return e.forEach((function(e){i=E()(e.date+" "+e.time,"DD/MM/YYYY HH:mm");var l=!1;switch(t){case k:i.dayOfYear()!==a.dayOfYear()&&(l=!0);break;case O:i.week()!==a.week()&&(l=!0);break;case x:i.month()!==a.month()&&(l=!0);break;case C:i.year()!==a.year()&&(l=!0);break;default:console.warn("Time period did not match with any available options")}l?(l=!1,c.push({x:n+r,y:o}),o=1,r+=i.diff(a,"millisecond")):o++,a=i})),r+=i.diff(a,"millisecond"),c.push({x:n+r,y:o}),console.log(c),c}(e.data))),curve:"curveMonotoneX"}))},D=o.a.createContext({data:{type:"default",time:"06:09",date:"04/20/1969"}}),Y=function(e){var t=[];return console.log("fetching all cups"),e.state.firebase.database().ref("Coffee/Users/userID/Entries").once("value").then((function(e){return e.forEach((function(e){t.push({type:e.val().type,date:e.val().date,time:e.val().time})})),t}))},j=function(){var e=Object(n.useContext)(D),t=Object(n.useState)([]),a=Object(i.a)(t,2),r=a[0],c=a[1];return Object(n.useEffect)((function(){e.then((function(e){return c(e)}))})),o.a.createElement("div",{className:"App"},o.a.createElement("header",{className:"App-header"},o.a.createElement("img",{src:s.a,className:"App-logo",alt:"logo"}),o.a.createElement("h1",{className:"header-text"},"Register Kaffi")),o.a.createElement(b,null),o.a.createElement(S,{data:r}))},A=new v;c.a.render(o.a.createElement(u.Provider,{value:A},o.a.createElement(D.Provider,{value:Y(A)},o.a.createElement(j,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[48,1,2]]]);
//# sourceMappingURL=main.c66ae08b.chunk.js.map